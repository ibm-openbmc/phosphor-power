{
   "comments": [ "phosphor-regulators configuration for IBM Everest systems",
                  "v0xMMmm, MM=Major tracking(for releases)",
                  "         mm is minor tracking(dev use)",
                  "v0x0000 20210514 (Initial release)", 
                  "     VDD, VIO, VCS Phase current limit updates",
                  "     VCS Phase ISENIN protection enabled and set",
                  "     all loops, min PWM pulse width = 40ns",
                  "     presence detect supported",
                  "v0x0008 20210727",
                  "     dd1 vs dd2 auto detect",
                  "     raise VIO OV_WARN for dd1 higher voltage setting",
                  "     Telemetry detection added",
                  "     all rails, uvp_deglitch=2.56us",
                  "     all rails, min_off_time=499ns",
                  "     all ISENIN enabled and set",
                  "     remove tda38740 b11 revisions, only set c11 & c22",
                  "     added ir35220 devices for VDD, 1V1CS, VPCIe, VDN, VIO",
                  "     change PID settings for 3V3IO, 3V3CS, VIO, AVDD",
                  "     set 3V3 droop settings for manufacturing mistake",
                  "     update IINOC setting for VCS, VIO",
                  "     change VPCIe OC_FAULT_LIMIT",
                  "     change Current Limit iterms for VCS, VDN",
                  "v0x000A 20210729",
                  "     PID changes to AVDD",
                  "v0x000B 20210804",
                  "     DD2 boot voltage updates",
                  "v0x000C 20210805",
                  "     disable ISENIN faults",
                  "v0x000D 20210805",
                  "     add presence_detection for some devices",
                  "v0x000E 20210811",
                  "     Critical - AVDD IR35219 voltage settings issue fixed",
                  "v0x000F 20210816",
                  "     VIO Voltage set-point change requested",
                  "     VIO VOUT_OV_WARN_LIMIT change with the setpoint",
                  "v0x0010 20210825",
                  "     chassis inventory path added",
                  "     Change some VDN & VIO phase current settings",
                  "v0x0210 20211111",
                  "     Phase fault detection, some support",
                  "     DASD Backplane regulator added",
                  "     VDD Phase Current Limit = 80A",
                  "     Change VPCIe IINOC, CCCL, Phase Fault High Limit",
                  "     Change AVDD CCCL, Phase Fault High Limit",
                  "     VDN Current Limit I-term = 1",
                  "     VPCIe Pole Terms",
                  "     Disable I2C Delay In for IR25220, IR25219, TDA38740",
                  "       (not on VCS rails because their loop2 does it)",
                  "     All VDD phases i2c addresses swapped",
                  "     VDD Load-line change to 254uOhm, PID, bandwidth",
                  "     Adjust VDD setting for new 400A WOF peak current spec",
                  "",
                  "Don't use tabs in comments, JSON doesn't like it!"],

   "rules": [
   
      {
         "comments": [ "=============== COMMON PMBus RULES ===============",
                        "Rule to set PMBus PAGE to 0" ],
         "id": "set_pmb_page0_rule",
         "actions": [
            { "i2c_write_byte": { "register": "0x00", "value": "0x00" } }
         ]
      },

      {
         "comments": [ "Rule to set PMBus PAGE to 1" ],
         "id": "set_pmb_page1_rule",
         "actions": [
            { "i2c_write_byte": { "register": "0x00", "value": "0x01" } }
         ]
      },
      
      {
         "comments": [ "Rule to set OPERATION to PMBus in control" ],
         "id": "set_pmbus_operation_rule",
         "actions": [
            {
               "i2c_write_byte": { "register": "0x01", "value": "0x80" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to set OPERATION to AVS in control" ],
         "id": "set_avs_operation_rule",
         "actions": [
            {
               "i2c_write_byte": { "register": "0x01", "value": "0xB0" }
            }
         ]
      },
      
      
      
      {
         "comments": [ "=============== COMMON IFX RULES ===============",
                        "Rule to set common settings in all IR35219 devices",
                        "(all VRMs) through PMBus" ],
         "id": "configure_common_ir35219_pmb_rule",
         "actions": [
            {
               "comments": [ "Set as JSON version tracker" ],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0xC0", "0x00", "0x10", "0x02"]
               }
            },
            {
               "comments": [ "Set loop 1 min_pwm_pulse_width = 40ns" ],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x38", "0x04", "0x40", "0x07"]
               }
            },
            {
               "comments": [ "Set loop 2 min_pwm_pulse_width = 40ns" ],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x38", "0x08", "0x40", "0x07"]
               }
            },
            {
               "comments": [ "Set loop 1 ",
                             "min_off_time = 499ns, uvp_deglitch=2.56us"],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x2E", "0x04", "0x8C", "0x00"]
               }
            },
            {
               "comments": [ "Set loop 2 ",
                             "min_off_time = 499ns, uvp_deglitch=2.56us"],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x2E", "0x08", "0x8C", "0x00"]
               }
            },
            {
               "comments": [ "Configure WARN# pin for ocw"],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x00", "0x01", "0x00"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to set IR35219 I2C deglitch and Delay"],
         "id": "configure_ir35219_deglitch_with_offset_pmb_rule",
         "actions": [
            {
               "comments": [ "I2C comm issue, Disable I2C Delay In"],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x5E", "0x00", "0xC0", "0x70"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to set IR35219 I2C deglitch and Delay"],
         "id": "configure_ir35219_deglitch_without_offset_pmb_rule",
         "actions": [
            {
               "comments": [ "I2C comm issue, Disable I2C Delay In"],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x5E", "0x00", "0xC0", "0x60"]
               }
            }
         ]
      },

      {
         "comments": [ "Rule to set common settings in all IR35220 (all VRMs)" ],
         "id": "configure_common_ir35220_rule",
         "actions": [
            {
               "comments": [ "Set as JSON version tracker" ],
               "i2c_write_bytes": {
                  "register": "0x9A", "values": ["0x10", "0x02"]
               }
            },
            {
               "comments": [ "ISENIN Disabled & deglitch=1.4us",
                             "IIN_OC deglitch=100ns" ],
               "i2c_write_byte": { "register": "0x23", "value": "0x7A" }
            },
            {
               "comments": [ "ISENIN set at widest limits",
                             "H_Thresh=400mV, L_Thresh=-100mV" ],
               "i2c_write_byte": { "register": "0x2C", "value": "0xFF" }
            },
            {
               "comments": [ "I2C comm issue, Disable I2C Delay In"],
               "i2c_write_byte": { "register": "0x20", "value": "0x6C" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to set common settings in all TDA38740 (all VRMs)",
                        "Careful, this should only contain updates for",
                        "registers that are common between silicon revisions"],
         "id": "configure_common_tda38740_pmb_rule",
         "actions": [
            {
               "comments": [ "Set as JSON version tracker" ],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0xDA", "0x00", "0x10", "0x02"]
               }
            },
            {
               "comments": [ "I2C comm issue, Disable I2C Delay In" ],
               "i2c_write_bytes": { 
                  "register": "0xD0",
                  "values": ["0x04", "0x42", "0x00", "0x0F", "0x00"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if TDA38740 in C22 revision",
                        "This will use the secondary I2C interface",
                        "so be sure to set_device before and after"],
         "id": "is_tda38740_c22_rule",
         "actions": [
            {
               "comments": [ "Set high register byte 00" ],
               "i2c_write_byte": { "register": "0xFF", "value": "0x00" }
            },
            { 
               "comments": [ "Reg 0xFC[15:8] is silcon_ver" ],
               "i2c_compare_byte": { "register": "0xFD", "value": "0x03" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if TDA38740(C21/C22) is faulted"],
         "id": "is_tda38740_c22_faulted_rule_i2c",
         "actions": [
            {
               "comments": [ "Set high register byte 00" ],
               "i2c_write_byte": { "register": "0xFF", "value": "0x00" }
            },
            {
               "comments": [ "Check non-sticky iout_oc_analog status bit" ],
               "i2c_compare_byte": { "register": "0x81", 
                                     "value": "0x01", "mask": "0x01" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if IR35220 is faulted"],
         "id": "is_ir35220_faulted_rule",
         "actions": [
            {
               "comments": [ "Check faults_status register" ],
               "not": {
                  "i2c_compare_bytes": { "register": "0x52", 
                  "values": ["0x00", "0x00"], "masks": ["0xFE", "0xFF"]}
               }
            }
         ]
      },
      
      
      
      

      {
         "comments": [ "=============== VR-VDD UNIQUE RULES ===============",
                        "Rule to configure a VDD rail using the PMBus" ],
         "id": "configure_vdd_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_with_offset_pmb_rule" },
            { "run_rule": "set_pmb_page0_rule" },
            { "run_rule": "set_pmbus_operation_rule" },
            {
               "comments": [ "DD1=0.899, DD2=0.900",
                             "i realize these are the same" ],
               "if": {
                  "condition": {
                     "run_rule": "is_system_using_dd1"
                  },
                  "then": [
                     {
                        "comments": [ "we have a system with DD1" ],
                        "pmbus_write_vout_command": {
                           "volts": 0.899, "format": "linear", 
                           "is_verified": true 
                        }
                     }
                  ],
                  "else": [
                     {
                        "comments": [ "we have a system with DD2" ],
                        "pmbus_write_vout_command": {
                           "volts": 0.900, "format": "linear", 
                           "is_verified": true 
                        }
                     }
                  ]
               }
            },
            { "run_rule": "set_avs_operation_rule" },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "Set Phase Current limit to 70A (0x8C)" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x04", "0x8C", "0xD5"]
               }
            },
            {
               "comments": [ "Load Line to 254uOhm" ],
               "i2c_write_bytes": {
                  "register": "0x28",
                  "values": ["0x0D", "0x00"]
               }
            },
            {
               "comments": [ "PID, P&I terms for new Load Line Setting" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x04", "0x18", "0x20"]
               }
            },
            {
               "comments": [ "Load Line bandwidth = 240kHz" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3A", "0x04", "0xA1", "0xE7"]
               }
            },
            {
               "comments": [ "PIN_OP_WARNING = 490W" ],
               "i2c_write_bytes": {
                  "register": "0x6B", "values": ["0xEA", "0x01"]
               }
            },
            {
               "comments": [ "IOUT_OC_WARN = 400A" ],
               "i2c_write_bytes": {
                  "register": "0x4A", "values": ["0xC8", "0x08"]
               }
            },
            {
               "comments": [ "IOUT_OC_FAULT = 410A" ],
               "i2c_write_bytes": {
                  "register": "0x46", "values": ["0xCD", "0x08"]
               }
            },
            {
               "comments": [ "IIN_OC_WARN = 40A" ],
               "i2c_write_bytes": {
                  "register": "0x5D", "values": ["0x50", "0xF8"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure VDD phases" ],
         "id": "configure_vdd_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check VDD's gpio for phase faults" ],
         "id": "vdd_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", "value": "0xFF" }
               }
            }
         ]
      },
      
      



      {
         "comments": [ "=============== VR-VCS UNIQUE RULES ===============",
                       "Rule to configure a VCS rail using the PMBus" ],
         "id": "configure_vcs_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "set_pmb_page0_rule" },
            { "run_rule": "set_pmbus_operation_rule" },
            {
               "comments": [ "DD1=1.000, DD2=1.000",
                             "i realize these are the same" ],
               "if": {
                  "condition": {
                     "run_rule": "is_system_using_dd1"
                  },
                  "then": [
                     {
                        "comments": [ "we have a system with DD1" ],
                        "pmbus_write_vout_command": {
                           "volts": 1.000, "format": "linear", 
                           "is_verified": true 
                        }
                     },
                     {
                        "comments": [ "VOUT_OV_WARN_LIMIT = 1.1V" ],
                        "i2c_write_bytes": {
                           "register": "0x42",
                           "values": ["0x33", "0x02"]
                        }
                     }
                  ],
                  "else": [
                     {
                        "comments": [ "we have a system with DD2" ],
                        "pmbus_write_vout_command": {
                           "volts": 1.000, "format": "linear", 
                           "is_verified": true 
                        }
                     },
                     {
                        "comments": [ "VOUT_OV_WARN_LIMIT = 1.1V" ],
                        "i2c_write_bytes": {
                           "register": "0x42",
                           "values": ["0x33", "0x02"]
                        }
                     }
                  ]
               }
            },
            { "run_rule": "set_avs_operation_rule" },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "Set High Phase Fault Thresh to 75A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x36", "0x04", "0xF0", "0x00"]
               }
            },
            {
               "comments": [ "Set Phase Current limit to 79A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x04", "0x9E", "0x8F"]
               }
            },
            {
               "comments": [ "Current Limit Iterm = 1" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x32", "0x04", "0x00", "0x10"]
               }
            },
            {
               "comments": [ "Phase Drop Delay = 8" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x20", "0x04", "0xA0", "0xCF"]
               }
            },
            {
               "comments": [ "PID, P&I terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x04", "0x14", "0x56"]
               }
            },
            {
               "comments": [ "PID, D&pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x04", "0x39", "0x60"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure VCS phases" ],
         "id": "configure_vcs_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OR'ing FET threshold = 4.25mV" ],
               "i2c_write_byte": { "register": "0x26", 
                                   "value": "0x11", "mask": "0x3F" }
            },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            },
            {
               "comments": [ "IINOC = 14A" ],
               "i2c_write_byte": { "register": "0x24", 
                                   "value": "0x08", "mask": "0x0F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check VCS's gpio for phase faults" ],
         "id": "vcs_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0x03", 
                                        "mask": "0x03" }
               }
            }
         ]
      },
      

      


      {
         "comments": [ "=============== VR-VDN UNIQUE RULES ===============",
                        "Rule to configure a VDN rail using the PMBus" ],
         "id": "configure_vdn_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_with_offset_pmb_rule" },
            { "run_rule": "set_pmb_page1_rule" },
            { "run_rule": "set_pmbus_operation_rule" },
            {
               "comments": [ "DD1=0.900, DD2=0.800" ],
               "if": {
                  "condition": {
                     "run_rule": "is_system_using_dd1"
                  },
                  "then": [
                     {
                        "comments": [ "we have a system with DD1" ],
                        "pmbus_write_vout_command": {
                           "volts": 0.900, "format": "linear", 
                           "is_verified": true 
                        }
                     }
                  ],
                  "else": [
                     {
                        "comments": [ "we have a system with DD2" ],
                        "pmbus_write_vout_command": {
                           "volts": 0.800, "format": "linear", 
                           "is_verified": true 
                        }
                     }
                  ]
               }
            },
            { "run_rule": "set_avs_operation_rule" },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "Phase fault High = 75A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x36", "0x08", "0xF0", "0x00"]
               }
            },
            {
               "comments": [ "Phase Current Limit = 79A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x08", "0x9E", "0xD5"]
               }
            },
            {
               "comments": [ "Current Limit Iterm = 1" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x32", "0x08", "0x00", "0x10"]
               }
            },
            {
               "comments": [ "PID, P&I terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x08", "0x11", "0x14"]
               }
            },
            {
               "comments": [ "PID, D&pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x08", "0xBB", "0x1F"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure VDN phases" ],
         "id": "configure_vdn_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check VDN's gpio for phase faults" ],
         "id": "vdn_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0x1C", 
                                        "mask": "0x1C" }
               }
            }
         ]
      },
      


      
      
      {
         "comments": [ "=============== VR-VIO UNIQUE RULES ===============",
                        "Rule to configure a VIO rail using the PMBus" ],
         "id": "configure_vio_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_with_offset_pmb_rule" },
            { "run_rule": "set_pmb_page0_rule" },
            {
               "comments": [ "DD1=0.971, DD2=1.01" ],
               "if": {
                  "condition": {
                     "run_rule": "is_system_using_dd1"
                  },
                  "then": [
                     {
                        "pmbus_write_vout_command": {
                           "volts": 0.971, "format": "linear", 
                           "is_verified": true 
                        }
                     },
                     {
                        "comments": [ "VOUT_OV_WARN_LIMIT = 1.050V",
                                      "this prevents OV warnings on DD1.0" ],
                        "i2c_write_bytes": {
                           "register": "0x42",
                           "values": ["0x1A", "0x02"]
                        }
                     }
                  ],
                  "else": [
                     {
                        "pmbus_write_vout_command": {
                           "volts": 1.01, "format": "linear", 
                           "is_verified": true 
                        }
                     },
                     {
                        "comments": [ "VOUT_OV_WARN_LIMIT = 1.100V",
                                      "this prevents OV warnings on DD2.0" ],
                        "i2c_write_bytes": {
                           "register": "0x42",
                           "values": ["0x33", "0x02"]
                        }
                     }
                  ]
               }
            },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "Phase fault High = 75A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x36", "0x04", "0xF0", "0x00"]
               }
            },
            {
               "comments": [ "Phase Current limit = 79A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x04", "0x9E", "0xD5"]
               }
            },
            {
               "comments": [ "PID, P&I terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x04", "0x0F", "0x11"]
               }
            },
            {
               "comments": [ "PID, D&pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x04", "0x99", "0x59"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure VIO phases" ],
         "id": "configure_vio_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            },
            {
               "comments": [ "Check for shunt resistor size" ],
               "if": {
                  "condition": {
                     "i2c_compare_byte": { "register": "0x22", 
                                           "value": "0x30", "mask": "0xF0" }
                  },
                  "then": [
                     {
                        "comments": [ "IIN_OC = 12.0A" ],
                        "i2c_write_byte": { "register": "0x24", 
                                            "value": "0x04" , "mask": "0x0F"}
                     }
                  ],
                  "else": [
                     {
                        "comments": [ "IIN_OC = 11.7A" ],
                        "i2c_write_byte": { "register": "0x24", 
                                            "value": "0x0F" , "mask": "0x0F"}
                     }
                  ]
               }
            }
            
            
         ]
      },
      
                        
      {
         "comments": [ "Rule to check VIO's gpio for phase faults" ],
         "id": "vio_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0xE0", 
                                        "mask": "0xE0" }
               }
            }
         ]
      },
      
      
      
      
      
      {
         "comments": [ "=============== VR-3V3IO UNIQUE RULES ===============",
                        "Rule to configure a 3V3IO rail using the PMBus" ],
         "id": "configure_3v3io_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_without_offset_pmb_rule" },
            { "run_rule": "set_pmb_page1_rule" },
            {
               "comments": [ "IMPORTANT NOTE: 3V3IO reports half the actual",
                              "this is due to an component errata issue" ],
               "pmbus_write_vout_command": {
                  "volts": 1.664, "format": "linear", "is_verified": true 
               }
            },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "VOUT_DROOP = 0.508*2 mOhm" ],
               "i2c_write_bytes": {
                  "register": "0x28", "values": ["0x1A", "0x00"]
               }
            },
            {
               "comments": [ "PID, P&I terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x08", "0x1C", "0x58"]
               }
            },
            {
               "comments": [ "PID, D&pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x08", "0x96", "0x61"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure 3V3IO phases" ],
         "id": "configure_3v3io_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check 3V3CS/IO's gpio for phase faults" ],
         "id": "3v3_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0xE0", 
                                        "mask": "0xE0" }
               }
            }
         ]
      },
      
      
      
      
      
      {
         "comments": [ "=============== VR-3V3CS UNIQUE RULES ===============",
                        "Rule to configure a 3V3CS rail using the PMBus" ],
         "id": "configure_3v3cs_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_without_offset_pmb_rule" },
            { "run_rule": "set_pmb_page1_rule" },
            {
               "comments": [ "IMPORTANT NOTE: 3V3CS reports half the actual",
                              "this is due to an component errata issue" ],
               "pmbus_write_vout_command": {
                  "volts": 1.700, "format": "linear", "is_verified": true 
               }
            },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "VOUT_OV_WARN_LIMIT = 1.730V (3.46V actual)" ],
               "i2c_write_bytes": {
                  "register": "0x42",
                  "values": ["0x76", "0x03"]
               }
            },
            {
               "comments": [ "VOUT_DROOP = 0.996*2 mOhm" ],
               "i2c_write_bytes": {
                  "register": "0x28", "values": ["0x33", "0x00"]
               }
            },
            {
               "comments": [ "PID, P terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x08", "0x0C", "0x5A"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure 3V3CS phases" ],
         "id": "configure_3v3cs_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            }
         ]
      },
      
      
      
      {
         "comments": [ "=============== VR-AVDD UNIQUE RULES ===============",
                        "Rule to configure a AVDD rail using the PMBus" ],
         "id": "configure_avdd_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "set_pmb_page0_rule" },
            {
               "pmbus_write_vout_command": {
                  "volts": 1.500, "format": "linear", "is_verified": true 
               }
            },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "PID, P&I terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x22", "0x04", "0x0C", "0x0F"]
               }
            },
            {
               "comments": [ "PID, D&pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x04", "0x99", "0x1E"]
               }
            },
            {
               "comments": [ "Phase fault High = 55A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x36", "0x04", "0xB0", "0x00"]
               }
            },
            {
               "comments": [ "Phase Current limit = 65A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x04", "0x82", "0x43"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure AVDD phases" ],
         "id": "configure_avdd_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1200mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x1E", "mask": "0x3F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check AVDD's gpio for phase faults" ],
         "id": "avdd_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0xC0", 
                                        "mask": "0xC0" }
               }
            }
         ]
      },
      
      
      
      
      
      {
         "comments": [ "=============== VR-VPCIe UNIQUE RULES ===============",
                        "Rule to configure a VPCIe rail using the PMBus" ],
         "id": "configure_vpcie_ir35219_rule_pmb",
         "actions": [
            { "run_rule": "configure_ir35219_deglitch_with_offset_pmb_rule" },
            { "run_rule": "set_pmb_page1_rule" },
            {
               "pmbus_write_vout_command": {
                  "volts": 0.860, "format": "linear", "is_verified": true 
               }
            },
            { "run_rule": "configure_common_ir35219_pmb_rule" },
            {
               "comments": [ "IOUT_OC_FAULT_LIMIT = 34A" ],
               "i2c_write_bytes": {
                  "register": "0x46", "values": ["0x12", "0x08"]
               }
            },
            {
               "comments": [ "Phase fault High = 55A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x36", "0x08", "0xB0", "0x00"]
               }
            },
            {
               "comments": [ "Phase Current limit = 65A" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x3C", "0x08", "0x82", "0x43"]
               }
            },
            {
               "comments": [ "PID, pole terms" ],
               "i2c_write_bytes": {
                  "register": "0xD0",
                  "values": ["0x04", "0x24", "0x08", "0x4A", "0x6A"]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to configure VPCIe phases" ],
         "id": "configure_vpcie_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1100mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x14", "mask": "0x3F" }
            },
            {
               "comments": [ "IINOC = 11.7A" ],
               "i2c_write_byte": { "register": "0x24", 
                                   "value": "0x0F", "mask": "0x0F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check VPCIeA's gpio for phase faults" ],
         "id": "vpciea_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0x0C", 
                                        "mask": "0x0C" }
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check VPCIeB's gpio for phase faults" ],
         "id": "vpcieb_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0x30", 
                                        "mask": "0x30" }
               }
            }
         ]
      },
      
      
      
      
      {
         "comments": [ "=============== VR-1V1CS UNIQUE RULES ===============",
                        "Rule to configure a 1V1CS rail using the PMBus" ],
         "id": "configure_1v1cs_tda38740_c22_rule_pmb",
         "actions": [
            { "run_rule": "set_pmb_page0_rule" },
            { "run_rule": "configure_common_tda38740_pmb_rule" }
         ]
      },
      
      {
         "comments": [ "Rule to configure 1V1CS phases" ],
         "id": "configure_1v1cs_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" },
            {
               "comments": [ "OVP = 1320mV" ],
               "i2c_write_byte": { "register": "0x25", 
                                   "value": "0x2A", "mask": "0x3F" }
            }
         ]
      },
      
      {
         "comments": [ "Rule to fix TDA38740(b11,c11,c21,c22) delay staggering"],
         "id": "fix_1v1cs1_ton_rule_pmb",
         "actions": [
            {
               "comments": [ "Check if TON_DELAY is not = 20ms" ],
               "if": {
                  "condition": {
                     "not": {
                        "i2c_compare_bytes": { "register": "0x60", 
                                               "values": [ "0x28", "0xF8" ] }
                     }
                  },
                  "then": [
                     {
                        "comments": [ "Set TON_DELAY to 20ms" ],
                        "i2c_write_bytes": { "register": "0x60", 
                                             "values": [ "0x28", "0xF8" ]}
                     },
                     {
                        "comments": [ "Burn it" ],
                        "i2c_write_bytes": {
                           "register": "0xD0",
                           "values": ["0x04", "0xD6", "0x00", "0x42", "0x3F"]
                        }
                     }
                  ]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to fix TDA38740(b11,c11,c21,c22) delay staggering"],
         "id": "fix_1v1cs2_ton_rule_pmb",
         "actions": [
            {
               "comments": [ "Check if TON_DELAY is not = 20.5ms" ],
               "if": {
                  "condition": {
                     "not": {
                        "i2c_compare_bytes": { "register": "0x60", 
                                               "values": [ "0x29", "0xF8" ] }
                     }
                  },
                  "then": [
                     {
                        "comments": [ "Set TON_DELAY to 20.5ms" ],
                        "i2c_write_bytes": { "register": "0x60", 
                                             "values": [ "0x29", "0xF8" ]}
                     },
                     {
                        "comments": [ "Burn it" ],
                        "i2c_write_bytes": {
                           "register": "0xD0",
                           "values": ["0x04", "0xD6", "0x00", "0x42", "0x3F"]
                        }
                     }
                  ]
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule to check 1V1CS's gpio for phase faults" ],
         "id": "1v1cs_has_gpio_faults",
         "actions": [
            { 
               "comments": [ "Phase fault bits are wired to GPIO first port" ],
               "not": {
                  "i2c_compare_byte": { "register": "0x00", 
                                        "value": "0x1C", 
                                        "mask": "0x1C" }
               }
            }
         ]
      },
      
      
      
      
      
      {
         "comments": [ "=============== VR-5V0USB UNIQUE RULES ===============",
                        "Rule to configure a 5V0USB rail using the PMBus" ],
         "id": "configure_5v0usb_tda38740_c22_rule_pmb",
         "actions": [
            { "run_rule": "set_pmb_page0_rule" },
            { "run_rule": "configure_common_tda38740_pmb_rule" }
         ]
      },
      
      {
         "comments": [ "Rule to configure 5V0USB phases" ],
         "id": "configure_5v0usb_ir35220_rule",
         "actions": [
            { "run_rule": "configure_common_ir35220_rule" }
         ]
      },
      
      
      
      {
         "comments": [ "=============== VRM Phase Fault Rules ===============" ],
         "id": "capture_16b_gpio_fault_status_rule",
         "actions": [
            {  "comments": [ "INPUT PORT0&1" ],
               "i2c_capture_bytes": { "register": "0x00", "count": 2 } }
         ]
      },
      
      {
         "comments": [ "Rule to collect common PMBus Fault Status" ],
         "id": "capture_pmbus_status_rule",
         "actions": [
            {  "comments": [ "STATUS_WORD" ],
               "i2c_capture_bytes": { "register": "0x79", "count": 2 } },
            {  "comments": [ "STATUS_VOUT" ],
               "i2c_capture_bytes": { "register": "0x7A", "count": 1 } },
            {  "comments": [ "STATUS_IOUT" ],
               "i2c_capture_bytes": { "register": "0x7B", "count": 1 } },
            {  "comments": [ "STATUS_INPUT" ],
               "i2c_capture_bytes": { "register": "0x7C", "count": 1 } },
            {  "comments": [ "STATUS_TEMPERATURE" ],
               "i2c_capture_bytes": { "register": "0x7D", "count": 1 } },
            {  "comments": [ "STATUS_CML" ],
               "i2c_capture_bytes": { "register": "0x7E", "count": 1 } }
         ]
      },
      
      {
         "comments": [ "Rule to collect IR35219 specific PMBus Fault Status" ],
         "id": "capture_ir35219_pmbus_status_rule",
         "actions": [
            {  "run_rule": "capture_pmbus_status_rule" },
            {  "comments": [ "STATUS_MFR_SPECIFIC" ],
               "i2c_capture_bytes": { "register": "0x80", "count": 1 } },
            {  "comments": [ "STATUS_MFR_IOUT_PEAK" ],
               "i2c_capture_bytes": { "register": "0xC7", "count": 2 } }
         ]
      },
      
      
      {
         "comments": [ "Rule to collect Phase Fault Status" ],
         "id": "capture_IR35220_status_rule",
         "actions": [
            {  "comments": [ "Faults Status" ],
               "i2c_capture_bytes": { "register": "0x52", "count": 2 } },
            {  "comments": [ "vdd, vdrv" ],
               "i2c_capture_bytes": { "register": "0x54", "count": 2 } },
            {  "comments": [ "vin, vinp" ],
               "i2c_capture_bytes": { "register": "0x56", "count": 2 } },
            {  "comments": [ "temp, iin" ],
               "i2c_capture_bytes": { "register": "0x58", "count": 2 } },
            {  "comments": [ "vinp min/max" ],
               "i2c_capture_bytes": { "register": "0x5A", "count": 2 } },
            {  "comments": [ "temp min/max" ],
               "i2c_capture_bytes": { "register": "0x5C", "count": 2 } },
            {  "comments": [ "iin min/max" ],
               "i2c_capture_bytes": { "register": "0x5E", "count": 2 } },
            {  "comments": [ "ro_inputs" ],
               "i2c_capture_bytes": { "register": "0x76", "count": 2 } }
         ]
      },
      
      
      
      {
         "comments": [ "=============== DCM & FRU PRESENT RULES ===============",
                        "VRM rules check for both the respective DCM presence",
                        "and VRM FRU presence.  If either is present, the VRM",
                        "should be configured.  Both should be present together",
                        
                        "Rule to determine if VRM@C12 is present." ],
         "id": "is_p0c12_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm1_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm0", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@C13 is present." ],
         "id": "is_p0c13_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm1_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm1", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@C15 is present." ],
         "id": "is_p0c15_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm1_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm2", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      
      {
         "comments": [ "Rule to determine if VRM@C18 is present." ],
         "id": "is_p0c18_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm2_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm5", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@C20 is present." ],
         "id": "is_p0c20_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm2_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm6", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@C21 is present." ],
         "id": "is_p0c21_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm2_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm7", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      
      {
         "comments": [ "Rule to determine if VRM@C54 is present." ],
         "id": "is_p0c54_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm3_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm8", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@C55 is present." ],
         "id": "is_p0c55_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm3_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm9", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if VRM@57 is present." ],
         "id": "is_p0c57_present_rule",
         "actions": [
            {
               "or": [
                  { "run_rule": "is_dcm3_present_rule" },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/vrm10", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if DCM1 is present." ],
         "id": "is_dcm1_present_rule",
         "actions": [
            {
               "or": [
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm1/cpu0", "value": true
                     }
                  },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm1/cpu1", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if DCM2 is present." ],
         "id": "is_dcm2_present_rule",
         "actions": [
            {
               "or": [
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm2/cpu0", "value": true
                     }
                  },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm2/cpu1", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if DCM3 is present." ],
         "id": "is_dcm3_present_rule",
         "actions": [
            {
               "or": [
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm3/cpu0", "value": true
                     }
                  },
                  {
                     "compare_presence": {
                        "fru": "system/chassis/motherboard/dcm3/cpu1", "value": true
                     }
                  }
               ]
            }
         ]
      },
      
      {
         "comments": [ "Rule to determine if system planar supports dd1" ],
         "id": "is_system_using_dd1",
         "actions": [
            {
               "compare_vpd": { "fru": "system/chassis/motherboard", 
                                "keyword": "HW", 
                                "byte_values": [ "0x00", "0x0A" ] }
            }
         ]
      },
      
      {
         "comments": [ "Rule to read sensors on PAGE 0 of IR35219 regulators",
                       "using the PMBus interface" ],
         "id": "read_sensors_ir35219_page0_rule",
         "actions": [
            { "run_rule": "set_pmb_page0_rule" },
            { "run_rule": "read_recent_pmb_sensors_rule" },
            { "run_rule": "read_minmax_pmb_sensors_rule" }
         ]
      },
      
      {
         "comments": [ "Rule to read sensors on PAGE 1 of IR35219 regulators",
                       "using the PMBus interface" ],
         "id": "read_sensors_ir35219_page1_rule",
         "actions": [
            { "run_rule": "set_pmb_page1_rule" },
            { "run_rule": "read_recent_pmb_sensors_rule" },
            { "run_rule": "read_minmax_pmb_sensors_rule" }
         ]
      },
      
      {
         "comments": [ "Rule for IR35219 peak/valley PMBus Telemetry collection" ],
         "id": "read_minmax_pmb_sensors_rule",
         "actions": [
            {
               "comments": [ "Read highest output voltage from MFR_VOUT_PEAK" ],
               "pmbus_read_sensor": {
                  "type": "vout_peak",
                  "command": "0xC6",
                  "format": "linear_16"
               }
            },
            {
               "comments": [ "Read highest output current from MFR_IOUT_PEAK" ],
               "pmbus_read_sensor": {
                  "type": "iout_peak",
                  "command": "0xC7",
                  "format": "linear_11"
               }
            },
            {
               "comments": [ "Read highest temperature from MFR_TEMP_PEAK" ],
               "pmbus_read_sensor": {
                  "type": "temperature_peak",
                  "command": "0xC8",
                  "format": "linear_11"
               }
            },
            {
               "comments": [ "Read lowest output voltage from MFR_VOUT_VALLEY" ],
               "pmbus_read_sensor": {
                  "type": "vout_valley",
                  "command": "0xCA",
                  "format": "linear_16"
               }
            },
            {
               "comments": [ "Read lowest output current from MFR_IOUT_VALLEY" ],
               "pmbus_read_sensor": {
                  "type": "iout_valley",
                  "command": "0xCB",
                  "format": "linear_11"
               }
            }
         ]
      },
      
      {
         "comments": [ "Rule for Common PMBus Telemetry collection" ],
         "id": "read_recent_pmb_sensors_rule",
         "actions": [
            {
               "comments": [ "Read output current from READ_IOUT" ],
               "pmbus_read_sensor": {
                  "type": "iout",
                  "command": "0x8C",
                  "format": "linear_11"
               }
            },
            {
               "comments": [ "Read output power from READ_POUT" ],
               "pmbus_read_sensor": {
                  "type": "pout",
                  "command": "0x96",
                  "format": "linear_11"
               }
            },
            {
               "comments": [ "Read output voltage from READ_VOUT" ],
               "pmbus_read_sensor": {
                  "type": "vout",
                  "command": "0x8B",
                  "format": "linear_16"
               }
            },
            {
               "comments": [ "Read temperature from READ_TEMPERATURE_1" ],
               "pmbus_read_sensor": {
                  "type": "temperature",
                  "command": "0x8D",
                  "format": "linear_11"
               }
            }
         ]
      }
      
      
      
      
   ],










   "chassis": [
      {
         "comments": [ "Chassis (drawer) 1" ],
         "number": 1,
         "inventory_path": "system/chassis",
         "devices": [
            
            {
               "comments": [ "P0-C59 GPIO =============== R0C1 ==============="],
               "id": "p0c59_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x23" }
            },
            
            {
               "comments": [ "P0-C59 VCS-3V3CS / IR35219:PMBus"],
               "id": "p0c59_vcs_3v3cs_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x1C" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_1_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                        "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "3V3CS_rail",
                     "configuration": {
                        "rule_id": "configure_3v3cs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                        "rule_id": "read_sensors_ir35219_page1_rule"
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and 3V3" ],
                  "device_id": "p0c59_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "3v3_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c59_vcs_3v3cs_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c59_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c59_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c59_3v3cs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c59_3v3cs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c59_3v3cs_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C59 1V1CS phase 1 / TDA38740:I2C"],
               "id": "p0c59_1v1cs1_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x15" }
            },
            
            {
               "comments": [ "P0-C59 1V1CS phase 1 / TDA38740:PMBus"],
               "id": "p0c59_1v1cs1_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x1D" },
               "rails": [
                  {
                     "id": "1V1CS_0167_p1_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "comments": [ "Must use i2c for reading rev"],
                              "set_device": "p0c59_1v1cs1_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p0c59_1v1cs1_regulator_pmb" },
                                    { "run_rule": "configure_1v1cs_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           },
                           { "set_device": "p0c59_1v1cs1_regulator_pmb" },
                           { "run_rule": "fix_1v1cs1_ton_rule_pmb" }
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both 1V1CS phases" ],
                  "device_id": "p0c59_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "comments": [ "Check io expander and regs for faults" ],
                              "or": [
                                 {
                                    "run_rule": "1v1cs_has_gpio_faults"
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p0c59_1v1cs1_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p0c59_1v1cs2_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 }
                              ]
                           },
                           "then": [
                              { "set_device": "p0c59_gpio" },
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c59_1v1cs1_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              { "set_device": "p0c59_1v1cs2_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              
                              { "set_device": "p0c59_1v1cs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c59_1v1cs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C59 1V1CS phase 2 / TDA38740:I2C"],
               "id": "p0c59_1v1cs2_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x16" }
            },
            
            {
               "comments": [ "P0-C59 1V1CS phase 2 / TDA38740:PMBus"],
               "id": "p0c59_1v1cs2_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x1E" },
               "rails": [
                  {
                     "id": "1V1CS_0167_p2_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "comments": [ "Must use i2c for reading rev"],
                              "set_device": "p0c59_1v1cs2_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p0c59_1v1cs2_regulator_pmb" },
                                    { "run_rule": "configure_1v1cs_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           },
                           { "set_device": "p0c59_1v1cs2_regulator_pmb" },
                           { "run_rule": "fix_1v1cs2_ton_rule_pmb" }
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ]
            },
            
            {
               "comments": [ "P0-C59 VCS / IR35220"],
               "id": "p0c59_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x60" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 VCS / IR35220"],
               "id": "p0c59_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x61" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 1V1CS / IR35220"],
               "id": "p0c59_1v1cs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x62" },
               "configuration": {
                  "rule_id": "configure_1v1cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 1V1CS / IR35220"],
               "id": "p0c59_1v1cs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x63" },
               "configuration": {
                  "rule_id": "configure_1v1cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 3V3CS / IR35220"],
               "id": "p0c59_3v3cs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x64" },
               "configuration": {
                  "rule_id": "configure_3v3cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 3V3CS / IR35220"],
               "id": "p0c59_3v3cs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x65" },
               "configuration": {
                  "rule_id": "configure_3v3cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C59 3V3CS / IR35220"],
               "id": "p0c59_3v3cs_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm12",
               "i2c_interface": { "bus": 11, "address": "0x66" },
               "configuration": {
                  "rule_id": "configure_3v3cs_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C17 GPIO =============== R2C0 ==============="],
               "id": "p0c17_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x23" }
            },
            
            {
               "comments": [ "P0-C17 VCS-3V3IO / IR35219:PMBus"],
               "id": "p0c17_vcs_3v3io_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x1C" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_4_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                        "rule_id": "read_sensors_ir35219_page0_rule"
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "3V3IO_rail",
                     "configuration": {
                        "rule_id": "configure_3v3io_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                        "rule_id": "read_sensors_ir35219_page1_rule"
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and 3V3" ],
                  "device_id": "p0c17_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "3v3_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c17_vcs_3v3io_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c17_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c17_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c17_3v3io_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c17_3v3io_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c17_3v3io_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C17 1V1CS phase 1 / TDA38740:I2C"],
               "id": "p0c17_1v1cs1_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x15" }
            },
            
            {
               "comments": [ "P0-C17 1V1CS phase 1 / TDA38740:PMBus"],
               "id": "p0c17_1v1cs1_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x1D" },
               "rails": [
                  {
                     "id": "1V1CS_2345_p1_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "comments": [ "Must use i2c for reading rev"],
                              "set_device": "p0c17_1v1cs1_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p0c17_1v1cs1_regulator_pmb" },
                                    { "run_rule": "configure_1v1cs_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           },
                           { "set_device": "p0c17_1v1cs1_regulator_pmb" },
                           { "run_rule": "fix_1v1cs1_ton_rule_pmb" }
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both 1V1CS phases" ],
                  "device_id": "p0c17_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "comments": [ "Check io expander and regs for faults" ],
                              "or": [
                                 {
                                    "run_rule": "1v1cs_has_gpio_faults"
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p0c17_1v1cs1_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p0c17_1v1cs2_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 }
                              ]
                           },
                           "then": [
                              { "set_device": "p0c17_gpio" },
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c17_1v1cs1_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              { "set_device": "p0c17_1v1cs2_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              
                              { "set_device": "p0c17_1v1cs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c17_1v1cs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C17 1V1CS phase 2 / TDA38740:I2C"],
               "id": "p0c17_1v1cs2_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x16" }
            },
            
            {
               "comments": [ "P0-C17 1V1CS phase 2 / TDA38740:PMBus"],
               "id": "p0c17_1v1cs2_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x1E" },
               "rails": [
                  {
                     "id": "1V1CS_2345_p2_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "comments": [ "Must use i2c for reading rev"],
                              "set_device": "p0c17_1v1cs2_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p0c17_1v1cs2_regulator_pmb" },
                                    { "run_rule": "configure_1v1cs_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           },
                           { "set_device": "p0c17_1v1cs2_regulator_pmb" },
                           { "run_rule": "fix_1v1cs2_ton_rule_pmb" }
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ]
            },
            
            {
               "comments": [ "P0-C17 VCS / IR35220"],
               "id": "p0c17_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x60" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 VCS / IR35220"],
               "id": "p0c17_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x61" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 1V1CS / IR35220"],
               "id": "p0c17_1v1cs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x62" },
               "configuration": {
                  "rule_id": "configure_1v1cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 1V1CS / IR35220"],
               "id": "p0c17_1v1cs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x63" },
               "configuration": {
                  "rule_id": "configure_1v1cs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 3V3IO / IR35220"],
               "id": "p0c17_3v3io_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x64" },
               "configuration": {
                  "rule_id": "configure_3v3io_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 3V3IO / IR35220"],
               "id": "p0c17_3v3io_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x65" },
               "configuration": {
                  "rule_id": "configure_3v3io_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C17 3V3IO / IR35220"],
               "id": "p0c17_3v3io_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm4",
               "i2c_interface": { "bus": 13, "address": "0x66" },
               "configuration": {
                  "rule_id": "configure_3v3io_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C58 GPIO =============== M3C0 ==============="],
               "id": "p0c58_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x23" }
            },
            
            {
               "comments": [ "P0-C58 VCS-VPCIeA / IR35219:PMBus"],
               "id": "p0c58_vcs_vpciea_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x1C" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_6_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VPCIe_01_rail",
                     "configuration": {
                        "rule_id": "configure_vpcie_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VPCIeA" ],
                  "device_id": "p0c58_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vpciea_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c58_vcs_vpciea_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c58_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_vpciea_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_vpciea_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C58 AVDD-VPCIeB / IR35219:PMBus"],
               "id": "p0c58_avdd_vpcieb_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x1D" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "AVDD_0167_rail",
                     "configuration": {
                        "rule_id": "configure_avdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VPCIe_67_rail",
                     "configuration": {
                        "rule_id": "configure_vpcie_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both AVDD and VPCIeB" ],
                  "device_id": "p0c58_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vpcieb_has_gpio_faults" },
                                 { "run_rule": "avdd_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c58_avdd_vpcieb_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c58_avdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_avdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_vpcieb_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c58_vpcieb_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C58 VCS / IR35220"],
               "id": "p0c58_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x60" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 VCS / IR35220"],
               "id": "p0c58_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x61" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 VPCIeA / IR35220"],
               "id": "p0c58_vpciea_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x62" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 VPCIeA / IR35220"],
               "id": "p0c58_vpciea_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x63" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 VPCIeB / IR35220"],
               "id": "p0c58_vpcieb_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x64" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 VPCIeB / IR35220"],
               "id": "p0c58_vpcieb_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x65" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 AVDD / IR35220"],
               "id": "p0c58_avdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x66" },
               "configuration": {
                  "rule_id": "configure_avdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C58 AVDD / IR35220"],
               "id": "p0c58_avdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm11",
               "i2c_interface": { "bus": 9, "address": "0x67" },
               "configuration": {
                  "rule_id": "configure_avdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C16 GPIO =============== M1C1 ==============="],
               "id": "p0c16_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x23" }
            },
            
            {
               "comments": [ "P0-C16 VCS-VPCIeA / IR35219:PMBus"],
               "id": "p0c16_vcs_vpciea_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x1C" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_3_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VPCIe_45_rail",
                     "configuration": {
                        "rule_id": "configure_vpcie_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VPCIeA" ],
                  "device_id": "p0c16_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vpciea_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c16_vcs_vpciea_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c16_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_vpciea_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_vpciea_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C16 AVDD-VPCIeB / IR35219:PMBus"],
               "id": "p0c16_avdd_vpcieb_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x1D" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "AVDD_2345_rail",
                     "configuration": {
                        "rule_id": "configure_avdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VPCIe_23_rail",
                     "configuration": {
                        "rule_id": "configure_vpcie_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both AVDD and VPCIeB" ],
                  "device_id": "p0c16_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vpcieb_has_gpio_faults" },
                                 { "run_rule": "avdd_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c16_avdd_vpcieb_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c16_avdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_avdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_vpcieb_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c16_vpcieb_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C16 VCS / IR35220"],
               "id": "p0c16_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x60" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 VCS / IR35220"],
               "id": "p0c16_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x61" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 VPCIeA / IR35220"],
               "id": "p0c16_vpciea_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x62" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 VPCIeA / IR35220"],
               "id": "p0c16_vpciea_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x63" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 VPCIeB / IR35220"],
               "id": "p0c16_vpcieb_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x64" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 VPCIeB / IR35220"],
               "id": "p0c16_vpcieb_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x65" },
               "configuration": {
                  "rule_id": "configure_vpcie_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 AVDD / IR35220"],
               "id": "p0c16_avdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x66" },
               "configuration": {
                  "rule_id": "configure_avdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C16 AVDD / IR35220"],
               "id": "p0c16_avdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm3",
               "i2c_interface": { "bus": 10, "address": "0x67" },
               "configuration": {
                  "rule_id": "configure_avdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C62 GPIO =============== N0C0 ==============="],
               "id": "p0c62_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x20" }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35219:PMBus"],
               "id": "p0c62_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x19" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_0_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c62_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c62_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c62_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c62_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x38" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x39" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3A" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3B" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3C" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3D" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3E" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C62 VDD / IR35220"],
               "id": "p0c62_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm14",
               "i2c_interface": { "bus": 11, "address": "0x3F" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C60 GPIO =============== N0C1 ==============="],
               "id": "p0c60_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x21" }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35219:PMBus"],
               "id": "p0c60_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x18" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_1_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c60_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c60_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c60_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c60_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               } 
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x30" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x31" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x32" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x33" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x34" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x35" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x36" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C60 VDD / IR35220"],
               "id": "p0c60_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm13",
               "i2c_interface": { "bus": 11, "address": "0x37" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C13 GPIO =============== N1C0 ==============="],
               "id": "p0c13_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x20" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35219:PMBus"],
               "id": "p0c13_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x19" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_2_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c13_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c13_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c13_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c13_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x38" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x39" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3A" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3B" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3C" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3D" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3E" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C13 VDD / IR35220"],
               "id": "p0c13_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm1",
               "i2c_interface": { "bus": 10, "address": "0x3F" },
               "presence_detection": { "rule_id": "is_p0c13_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C15 GPIO =============== N1C1 ==============="],
               "id": "p0c15_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x21" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35219:PMBus"],
               "id": "p0c15_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x18" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_3_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c15_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c15_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c15_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c15_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x30" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x31" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x32" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x33" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x34" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x35" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x36" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C15 VDD / IR35220"],
               "id": "p0c15_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm2",
               "i2c_interface": { "bus": 10, "address": "0x37" },
               "presence_detection": { "rule_id": "is_p0c15_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C18 GPIO =============== N2C0 ==============="],
               "id": "p0c18_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x20" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35219:PMBus"],
               "id": "p0c18_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x19" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_4_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c18_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c18_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c18_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c18_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x38" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x39" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3A" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3B" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3C" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3D" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3E" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C18 VDD / IR35220"],
               "id": "p0c18_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm5",
               "i2c_interface": { "bus": 13, "address": "0x3F" },
               "presence_detection": { "rule_id": "is_p0c18_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C20 GPIO =============== N2C1 ==============="],
               "id": "p0c20_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x21" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35219:PMBus"],
               "id": "p0c20_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x18" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_5_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c20_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c20_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c20_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c20_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x30" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x31" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x32" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x33" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x34" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x35" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x36" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C20 VDD / IR35220"],
               "id": "p0c20_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm6",
               "i2c_interface": { "bus": 13, "address": "0x37" },
               "presence_detection": { "rule_id": "is_p0c20_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },

            
            
            {
               "comments": [ "C57 GPIO =============== N3C0 ==============="],
               "id": "p0c57_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x20" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35219:PMBus"],
               "id": "p0c57_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x19" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_6_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c57_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c57_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c57_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c57_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x38" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x39" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3A" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3B" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3C" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3D" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3E" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C57 VDD / IR35220"],
               "id": "p0c57_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm10",
               "i2c_interface": { "bus": 9, "address": "0x3F" },
               "presence_detection": { "rule_id": "is_p0c57_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },

            
            
            {
               "comments": [ "C55 GPIO =============== N3C1 ==============="],
               "id": "p0c55_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x21" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35219:PMBus"],
               "id": "p0c55_vdd_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x18" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VDD_7_rail",
                     "configuration": {
                        "rule_id": "configure_vdd_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c55_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vdd_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c55_vdd_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c55_vdd_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase4" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase5" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase6" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase7" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c55_vdd_phase8" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x30" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x31" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x32" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase4",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x33" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase5",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x34" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase6",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x35" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase7",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x36" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C55 VDD / IR35220"],
               "id": "p0c55_vdd_phase8",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm9",
               "i2c_interface": { "bus": 9, "address": "0x37" },
               "presence_detection": { "rule_id": "is_p0c55_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdd_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C63 GPIO =============== G0C0 ==============="],
               "id": "p0c63_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x22" }
            },
            
            {
               "comments": [ "P0-C63 VCS-VDN / IR35219:PMBus"],
               "id": "p0c63_vcs_vdn_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x1A" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_0_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VDN_01_rail",
                     "configuration": {
                        "rule_id": "configure_vdn_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VDN" ],
                  "device_id": "p0c63_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vdn_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c63_vcs_vdn_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c63_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vdn_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vdn_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vdn_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C63 VIO / IR35219:PMBus"],
               "id": "p0c63_vio_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x1B" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VIO_01_rail",
                     "configuration": {
                        "rule_id": "configure_vio_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c63_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vio_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c63_vio_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c63_vio_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vio_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c63_vio_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C63 VCS / IR35220"],
               "id": "p0c63_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x70" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VCS / IR35220"],
               "id": "p0c63_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x71" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VDN / IR35220"],
               "id": "p0c63_vdn_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x72" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VDN / IR35220"],
               "id": "p0c63_vdn_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x73" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VDN / IR35220"],
               "id": "p0c63_vdn_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x74" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VIO / IR35220"],
               "id": "p0c63_vio_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x75" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VIO / IR35220"],
               "id": "p0c63_vio_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x76" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C63 VIO / IR35220"],
               "id": "p0c63_vio_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm15",
               "i2c_interface": { "bus": 11, "address": "0x77" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },

            
            
            {
               "comments": [ "C12 GPIO =============== G1C0 ==============="],
               "id": "p0c12_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x22" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" }
            },
            
            {
               "comments": [ "P0-C12 VCS-VDN / IR35219:PMBus"],
               "id": "p0c12_vcs_vdn_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x1A" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_2_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VDN_23_rail",
                     "configuration": {
                        "rule_id": "configure_vdn_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VDN" ],
                  "device_id": "p0c12_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vdn_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c12_vcs_vdn_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c12_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vdn_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vdn_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vdn_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },

            {
               "comments": [ "P0-C12 VIO / IR35219:PMBus"],
               "id": "p0c12_vio_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x1B" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VIO_23_rail",
                     "configuration": {
                        "rule_id": "configure_vio_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c12_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vio_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c12_vio_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c12_vio_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vio_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c12_vio_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C12 VCS / IR35220"],
               "id": "p0c12_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x70" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VCS / IR35220"],
               "id": "p0c12_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x71" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VDN / IR35220"],
               "id": "p0c12_vdn_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x72" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VDN / IR35220"],
               "id": "p0c12_vdn_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x73" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VDN / IR35220"],
               "id": "p0c12_vdn_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x74" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VIO / IR35220"],
               "id": "p0c12_vio_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x75" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VIO / IR35220"],
               "id": "p0c12_vio_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x76" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C12 VIO / IR35220"],
               "id": "p0c12_vio_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm0",
               "i2c_interface": { "bus": 10, "address": "0x77" },
               "presence_detection": { "rule_id": "is_p0c12_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },

            
            
            {
               "comments": [ "C21 GPIO =============== G2C1 ==============="],
               "id": "p0c21_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x22" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" }
            },
            
            {
               "comments": [ "P0-C21 VCS-VDN / IR35219:PMBus"],
               "id": "p0c21_vcs_vdn_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x1A" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_5_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VDN_45_rail",
                     "configuration": {
                        "rule_id": "configure_vdn_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VDN" ],
                  "device_id": "p0c21_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vdn_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c21_vcs_vdn_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c21_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vdn_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vdn_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vdn_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },

            {
               "comments": [ "P0-C21 VIO / IR35219:PMBus"],
               "id": "p0c21_vio_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x1B" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VIO_45_rail",
                     "configuration": {
                        "rule_id": "configure_vio_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c21_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vio_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c21_vio_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c21_vio_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vio_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c21_vio_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C21 VCS / IR35220"],
               "id": "p0c21_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x70" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VCS / IR35220"],
               "id": "p0c21_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x71" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VDN / IR35220"],
               "id": "p0c21_vdn_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x72" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VDN / IR35220"],
               "id": "p0c21_vdn_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x73" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VDN / IR35220"],
               "id": "p0c21_vdn_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x74" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VIO / IR35220"],
               "id": "p0c21_vio_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x75" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VIO / IR35220"],
               "id": "p0c21_vio_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x76" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C21 VIO / IR35220"],
               "id": "p0c21_vio_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm7",
               "i2c_interface": { "bus": 13, "address": "0x77" },
               "presence_detection": { "rule_id": "is_p0c21_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            
            
            {
               "comments": [ "C54 GPIO =============== G3C1 ==============="],
               "id": "p0c54_gpio",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x22" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" }
            },
            
            {
               "comments": [ "P0-C54 VCS_VDN / IR35219:PMBus"],
               "id": "p0c54_vcs_vdn_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x1A" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VCS_7_rail",
                     "configuration": {
                        "rule_id": "configure_vcs_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  },
                  {
                     "comments": [ "PMBus PAGE 1 rail" ],
                     "id": "VDN_67_rail",
                     "configuration": {
                        "rule_id": "configure_vdn_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page1_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "comments": [ "Checks for faults on both VCS and VDN" ],
                  "device_id": "p0c54_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { "run_rule": "vcs_has_gpio_faults" },
                                 { "run_rule": "vdn_has_gpio_faults" }
                              ]
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              
                              { "set_device": "p0c54_vcs_vdn_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "run_rule": "set_pmb_page1_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              
                              { "set_device": "p0c54_vcs_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vcs_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vdn_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vdn_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vdn_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C54 VIO / IR35219:PMBus"],
               "id": "p0c54_vio_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x1B" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "rails": [
                  {
                     "comments": [ "PMBus PAGE 0 rail" ],
                     "id": "VIO_67_rail",
                     "configuration": {
                        "rule_id": "configure_vio_ir35219_rule_pmb"
                     },
                     "sensor_monitoring": { 
                       "rule_id": "read_sensors_ir35219_page0_rule" 
                     }
                  }
               ],
               "phase_fault_detection": {
                  "device_id": "p0c54_gpio",
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "run_rule": "vio_has_gpio_faults"
                           },
                           "then": [
                              { "run_rule": "capture_16b_gpio_fault_status_rule" },
                              { "set_device": "p0c54_vio_regulator_pmb" },
                              { "run_rule": "set_pmb_page0_rule" },
                              { "run_rule": "capture_ir35219_pmbus_status_rule" },
                              { "set_device": "p0c54_vio_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vio_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p0c54_vio_phase3" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P0-C54 VCS / IR35220"],
               "id": "p0c54_vcs_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x70" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VCS / IR35220"],
               "id": "p0c54_vcs_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x71" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vcs_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VDN / IR35220"],
               "id": "p0c54_vdn_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x72" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VDN / IR35220"],
               "id": "p0c54_vdn_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x73" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VDN / IR35220"],
               "id": "p0c54_vdn_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x74" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vdn_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VIO / IR35220"],
               "id": "p0c54_vio_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x75" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VIO / IR35220"],
               "id": "p0c54_vio_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x76" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P0-C54 VIO / IR35220"],
               "id": "p0c54_vio_phase3",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/vrm8",
               "i2c_interface": { "bus": 9, "address": "0x77" },
               "presence_detection": { "rule_id": "is_p0c54_present_rule" },
               "configuration": {
                  "rule_id": "configure_vio_ir35220_rule"
               }
            },
            
            
            
            
            
            {
               "comments": [ "P1 ============== Base Camp ==============",
                              "P1 5v0usb phase 1 / TDA38740:I2C"],
               "id": "p1_5v0usb1_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 45, "address": "0x10" }
            },
            
            {
               "comments": [ "P1 5v0usb1 phase 1 / TDA38740:PMBus"],
               "id": "p1_5v0usb1_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 45, "address": "0x40" },
               "rails": [
                  {
                     "id": "Front_USB_p1_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "set_device": "p1_5v0usb1_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "comments": [ "only run updates on latest c22"],
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p1_5v0usb1_regulator_pmb" },
                                    { "run_rule": "configure_5v0usb_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           }
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ],
               "phase_fault_detection": {
                  "actions": [
                     {
                        "if": {
                           "condition": {
                              "or": [
                                 { 
                                    "and": [
                                       {"set_device": "p1_5v0usb1_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p1_5v0usb2_regulator_i2c"},
                                       {"run_rule": "is_tda38740_c22_faulted_rule_i2c"}
                                    ]
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p1_5v0usb_phase1"},
                                       {"run_rule": "is_ir35220_faulted_rule"}
                                    ]
                                 },
                                 { 
                                    "and": [
                                       {"set_device": "p1_5v0usb_phase2"},
                                       {"run_rule": "is_ir35220_faulted_rule"}
                                    ]
                                 }
                              ]
                           },
                           "then": [
                              { "set_device": "p1_5v0usb1_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              { "set_device": "p1_5v0usb2_regulator_pmb" },
                              { "run_rule": "capture_pmbus_status_rule" },
                              { "set_device": "p1_5v0usb_phase1" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "set_device": "p1_5v0usb_phase2" },
                              { "run_rule": "capture_IR35220_status_rule" },
                              { "log_phase_fault": { "type": "n" } }
                           ]
                        }
                     }
                  ]
               }
            },
            
            {
               "comments": [ "P1 5v0usb phase 2 / TDA38740:I2C"],
               "id": "p1_5v0usb2_regulator_i2c",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 46, "address": "0x10" }
            },
            
            {
               "comments": [ "P1 5v0usb phase 2 / TDA38740:PMBus"],
               "id": "p1_5v0usb2_regulator_pmb",
               "is_regulator": true,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 46, "address": "0x40" },
               "rails": [
                  {
                     "id": "Front_USB_p2_rail",
                     "configuration": {
                        "actions": [
                           { "run_rule": "configure_common_tda38740_pmb_rule" },
                           { "set_device": "p1_5v0usb2_regulator_i2c" },
                           {
                              "if": {
                                 "condition": {
                                    "comments": [ "only run updates on latest c22"],
                                    "run_rule": "is_tda38740_c22_rule"
                                 },
                                 "then": [
                                    { "set_device": "p1_5v0usb2_regulator_pmb" },
                                    { "run_rule": "configure_5v0usb_tda38740_c22_rule_pmb" }
                                 ]
                              }
                           } 
                        ]
                     },
                     "sensor_monitoring": { "rule_id": "read_recent_pmb_sensors_rule" }
                  }
               ]
            },
            
            {
               "comments": [ "P1 5v0usb Phase 1 / IR35220"],
               "id": "p1_5v0usb_phase1",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 45, "address": "0x14" },
               "configuration": {
                  "rule_id": "configure_5v0usb_ir35220_rule"
               }
            },
            
            {
               "comments": [ "P1 5v0usb Phase 2 / IR35220"],
               "id": "p1_5v0usb_phase2",
               "is_regulator": false,
               "fru": "system/chassis/motherboard/dasd_backplane",
               "i2c_interface": { "bus": 46, "address": "0x14" },
               "configuration": {
                  "rule_id": "configure_5v0usb_ir35220_rule"
               }
            }
            




         ]
      }
   ]
}